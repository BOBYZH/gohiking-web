(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[2],{1022:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return R}));var a=o(39),n=o(14),i=o(25),r=o.n(i),c=o(0),l=o.n(c),s=o(197),d=o(6),p=o(114),f=o(736),u=o(348),g=o(86),h=o(852),m=o.n(h),b=o(853),x=o.n(b),j=o(854),v=o.n(j),k=o(121),w=o(23),O=o.p+"static/media/sample.c5c1fd6a.jpg",y=(o(845),o(846),o(163)),I=o.n(y),S=o.p+"static/media/google-icon.a45b46e9.svg",A=o(847),C=(o(993),o(994),o(850),o(3)),D=l.a.useState,T=l.a.useRef,B=l.a.useLayoutEffect;A.a.apps.length?A.a.app():A.a.initializeApp({apiKey:"AIzaSyAZECXAG-TWAR9_AOlKExuq2tJ-8tWVfA4",authDomain:"go-hiking-test.firebaseapp.com",databaseURL:"https://go-hiking-test-default-rtdb.europe-west1.firebasedatabase.app",projectId:"go-hiking-test",storageBucket:"go-hiking-test.appspot.com",messagingSenderId:"1009464473437",appId:"1:1009464473437:web:b6283b9c93964195409ab4",measurementId:"G-DLB3B3L50D"});var L=Object(s.a)((function(e){return{container:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},root:{maxheight:"600",width:"100%",margin:"0",padding:"0",overflowX:"hidden",objectFit:"cover"},google:{margin:"auto"},facebook:{display:"flex",backgroundColor:"#4267b2",letterSpacing:2,color:"#ffffff",width:"92%",height:"44px",marginBottom:"16px",margin:"auto"},newFacebook:{width:"92%",height:"44px",borderRadius:"4px",background:"#4267b2",color:"#ffffff",border:"0px transparent",letterSpacing:2,marginBottom:"16px",margin:"auto",display:"flex",fontSize:"13.5px",padding:"13px 0px 0px",justifyContent:"center",shadowRadius:"15"}}})),U=Object(d.a)((function(){return{root:{display:"flex",backgroundColor:"#ffffff",letterSpacing:1.6,color:"#000000",width:"92%",height:"44px",marginBottom:"16px",margin:"auto",fontWeight:"500"}}}))(u.a),W=Object(d.a)((function(){return{root:{display:"flex",backgroundColor:"#4267b2",letterSpacing:2,color:"#ffffff",width:"92%",height:"44px",marginBottom:"16px",margin:"auto"}}}))(u.a),_=Object(d.a)((function(){return{root:{display:"flex",backgroundColor:"#000000",letterSpacing:2,color:"#ffffff",width:"92%",height:"44px",marginBottom:"16px",margin:"auto"}}}))(u.a),F=Object(d.a)((function(){return{root:{display:"flex",backgroundColor:"#ffffff",letterSpacing:1.6,color:"#000000",width:"92%",height:"44px",margin:"auto",fontWeight:"500"}}}))(u.a),P=Object(p.a)({palette:{primary:{main:"#b000ff",contrastText:"#ffffff"}}}),E=localStorage.getItem("previous_pathname");function R(){var e=L(),t=D({}),o=Object(n.a)(t,2),i=o[0],c=o[1],l=Object(w.k)();var s=function(){var e=Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("========final data_apple===========",i),e.next=3,I.a.post("https://gohiking-server.herokuapp.com/api/auth/social/callback",i).then((function(e){console.log("====post success====",e),console.log("====second response token====",e.data.token),localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.userId);var t=new Date;localStorage.setItem("expireTime",t.getTime()+e.data.expireTime),null==E?l.push("/home"):l.push({pathname:E})})).catch((function(e){console.log("error: ",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=T(!0);return B((function(){d.current?d.current=!1:s()}),[i]),Object(C.jsxs)("div",{className:e.container,style:{objectFit:"cover"},children:[Object(C.jsx)("div",{style:{width:"100vw",height:381,overflow:"hidden"},children:Object(C.jsx)("img",{src:O,alt:"bg",style:{height:"100%",width:"100%",objectFit:"cover"}})}),Object(C.jsxs)("div",{style:{margin:"16.5px 16px 0px"},children:[Object(C.jsx)(U,{variant:"contained",onClick:function(){var e=new A.a.auth.GoogleAuthProvider;A.a.auth().useDeviceLanguage(),A.a.auth().signInWithPopup(e).then((function(e){console.log("******resul******",e);e.credential.accessToken,e.user;var t={email:e.additionalUserInfo.profile.email,name:e.additionalUserInfo.profile.name,google_id:e.additionalUserInfo.profile.id,avatar:e.additionalUserInfo.profile.picture,token:e.credential.idToken};console.log("====data====",t),c(t)})).catch((function(e){e.code,e.message}))},startIcon:Object(C.jsx)("img",{src:S,alt:"google_icon",style:{height:"18px",weight:"18px"}}),disabled:"localhost:3000"!==window.location.host,children:"\u900f\u904eGoogle\u767b\u5165(\u9650\u958b\u767c\u74b0\u5883)"}),Object(C.jsx)(W,{variant:"contained",onClick:function(){var e=new A.a.auth.FacebookAuthProvider;console.log("facebook firebase start"),A.a.auth().useDeviceLanguage(),A.a.auth().signInWithPopup(e).then((function(e){console.log("#######################"),console.log("====result==== ",e);var t={email:e.additionalUserInfo.profile.email,name:e.additionalUserInfo.profile.name,facebook_id:e.additionalUserInfo.profile.id,avatar:e.additionalUserInfo.profile.picture.data.url,token:e.credential.accessToken};console.log("====data====",t),c(t)})).catch((function(e){e.code,e.message})),console.log("facebook firebase end")},startIcon:Object(C.jsx)(m.a,{style:{color:"#ffffff"}}),disabled:"localhost:3000"!==window.location.host,children:"\u900f\u904eFACEBOOK\u767b\u5165(\u9650\u958b\u767c\u74b0\u5883)"}),Object(C.jsx)(_,{variant:"contained",onClick:function(){var e=new A.a.auth.OAuthProvider("apple.com");e.addScope("email"),e.addScope("name"),A.a.auth().useDeviceLanguage(),A.a.auth().signInWithPopup(e).then((function(e){console.log("====result is like this==== ",e);var t=e.user.providerData[0].email,o="",a=!1;t.split("").forEach((function(e){"@"===e||!0===a?a=!0:o+=e}));var n={email:e.user.providerData[0].email,name:o,apple_id:e.user.uid,avatar:"https://imgur.com/gallery/TX5W1uj",token:e.credential.idToken};console.log("====data====",n),c(n)})).catch((function(e){console.log("error message:  ",e.message)}))},startIcon:Object(C.jsx)(x.a,{style:{color:"#ffffff"}}),disabled:"localhost:3000"!==window.location.host,children:"\u900f\u904eApple ID\u767b\u5165(\u9650\u958b\u767c\u74b0\u5883)"}),Object(C.jsx)(F,{variant:"contained",onClick:function(){l.push("/login1_1")},startIcon:Object(C.jsx)(v.a,{style:{color:"#000000"}}),children:"\u900f\u904eMail\u767b\u5165"})]}),Object(C.jsx)(f.a,{theme:P,children:Object(C.jsx)("div",{style:{margin:"24px 0px 0px 0px"}})}),Object(C.jsxs)(g.a,{variant:"body2",component:"p",style:{color:"black",direction:"column",textAlign:"center"},children:["\u9084\u4e0d\u662f\u6703\u54e1\u55ce? ",Object(C.jsx)(k.Link,{to:"/signup",style:{color:"#000000"},children:"\u8a3b\u518a\u65b0\u5e33\u865f"})]}),Object(C.jsx)(u.a,{variant:"outlined",component:k.Link,to:"/home",style:{color:"#00d04c",fontWeight:"700",borderColor:"#00d04c",width:"182px",height:"40px",margin:"auto",marginTop:"16px"},children:"\u76f4\u63a5\u4f7f\u7528"})]})}}}]);
//# sourceMappingURL=2.d68c16ef.chunk.js.map